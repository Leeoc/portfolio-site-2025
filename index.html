<!doctype html>
<html>

<head>

  <title>Lee O'Connell</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="./assets/images/favicon.ico" sizes="any">
  <link href="./assets/site.css" rel="stylesheet">

</head>

<body x-cloak class="bg-black pt-24.5" x-data="{ openMenu : false }">

    <div class="sitewrap">

        <header role="banner" class="absolute top-0 left-0 w-full h-24.5 px-7.5 transition-all duration-500 lg:px-12.5 lg:h-34.5">

            <div class="wrap h-full">

                <div class="flex items-center justify-between h-full">

                    <h1>
                        
                        <span class="text-white text-[clamp(2rem,8.14vw,2rem)] flex [&_span]:transition-all [&_span]:duration-500">l<span class="fadeIn">ee</span><span class="fadeIn opacity-0">-</span>o<span class="fadeIn">'</span>c<span class="fadeIn">onnell</span>
                    
                    </h1>

                    <button type="button" aria-label="Open menu" @click="openMenu = ! openMenu" class="flex items-center cursor-pointer">

                        <p class="text-[clamp(2rem,8.14vw,2rem)] mr-4.5 relative before:content-[''] before:block before:w-full before:max-w-full before:h-full before:bg-black before:absolute before:top-0 before:right-0 before:transition-all before:duration-300 md:before:max-w-0">menu</p>

                        <div class="relative w-7.5 h-7.5 transition-all duration-500 hover:rotate-45 before:content-[''] before:block before:w-[calc(100%+20px)] before:h-[calc(100%+20px)] before:absolute before:left-1/2 before:top-1/2 before:-translate-y-1/2 before:-translate-x-1/2 lg:hover:rotate-0" :class="{ 'rotate-45 md:rotate-0' : openMenu }">

                            <span class="block bg-white w-7.5 h-[5px] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2"></span>
    
                            <span class="block bg-white w-7.5 h-[5px] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 rotate-90 transition-all duration-500 md:rotate-0"></span>
    
                        </div>

                    </button>

                </div>

            </div>

        </header>

        <menu class="overflow-hidden transition-all duration-500 px-7.5 -mt-[25px] z-[9] absolute right-0 w-full lg:-mt-[7px] lg:max-w-[197px] lg:ml-auto lg:pl-0 lg:pr-12.5 lg:box-content" :class="openMenu ? 'max-h-[204px]' : 'max-h-0'">

            <ul>

                <li class="text-[clamp(2rem,8.14vw,2rem)] text-right mb-1 lg:text-left"><a href="#work">work</a></li>

                <li class="text-[clamp(2rem,8.14vw,2rem)] text-right mb-1 lg:text-left"><a href="#stack">stack</a></li>

                <li class="text-[clamp(2rem,8.14vw,2rem)] text-right mb-1 lg:text-left"><a href="#blog">blog</a></li>

            </ul>

        </menu>

        <section class="hero h-[calc(100vh-196px)] px-7.5 transition-all duration-500 md:h-[calc(100vh-98px)] lg:px-12.5">

            <div class="wrap h-full">

                <div class="flex flex-wrap content-center justify-center h-full">

                    <h2 class="w-full text-[clamp(2.1825rem,11.45vw,11.25rem)]/[1.2] max-w-fit">software engineer</h2>

                    <div class="flex items-center justify-between w-full">

                        <div class="block bg-white h-[3px] w-full mr-2"></div>

                        <h3 class="w-full max-w-fit text-[clamp(1.25rem,5.09vw,3rem)]/[1.2] whitespace-nowrap">based in belfast</h3>

                    </div>

                </div>

            </div>

        </section>

        <section id="work" class="experience min-h-[calc(100vh-196px)] transition-all duration-500 pb-24.5 px-7.5 lg:px-12.5 lg:mt-[138px]">

            <div
                class="wrap"
                x-data="{
                    items: [],
                    async init() {
                        const res = await fetch('./assets/experience.json');
                        this.items = await res.json();
                    }
                }"
            >

                <template x-for="(item, idx) in items" :key="idx">
                    <div class="mb-12.5 last:mb-0 md:flex md:justify-between md:items-start"
                        x-data="{
                            expanded: false,
                            needsClamp: false,
                            collapsedHeight: null,
                            fullHeight: null,
                            updateHeights() {
                                const p = this.$el.querySelector('p');
                                if (!p) return;
                                const lineHeight = parseFloat(getComputedStyle(p).lineHeight);
                                const lines = Math.round(p.scrollHeight / lineHeight);
                                this.needsClamp = lines > 7;
                                if (this.needsClamp) {
                                    this.collapsedHeight = lineHeight * 8 + 'px';
                                    this.fullHeight = p.scrollHeight + 'px';
                                } else {
                                    this.collapsedHeight = this.fullHeight = 'auto';
                                }
                            },
                            observeText() {
                                const p = this.$el.querySelector('p');
                                if (!p) return;
                                const observer = new MutationObserver(() => {
                                    this.updateHeights();
                                });
                                observer.observe(p, { childList: true, subtree: true, characterData: true });
                            }
                        }"
                        x-init="updateHeights(); observeText();"
                        @resize.window="updateHeights()"
                    >
                        <div class="w-full transition-all duration-500 md:pr-5 md:w-1/2 lg:w-2/5">
                            <div class="flex items-center mb-2.5">
                                <div class="block bg-white h-[3px] w-full max-w-full mr-2 transition-all duration-500 overflow-hidden md:max-w-0 md:mr-0"></div>
                                <h3 class="w-full lowercase max-w-fit whitespace-nowrap text-[clamp(2rem,8.14vw,2rem)]/[100%] lg:text-[clamp(2rem,3.13vw,3rem)]" x-text="item.title"></h3>
                            </div>
                            <h4 x-text="item.position" class="hidden font-bold opacity-70 -tracking-[0.5px] font-grotesk text-[clamp(1.25rem,5.09vw,1.875rem)]/[120%] md:block"></h4>
                        </div>
                        <div class="relative md:w-1/2 lg:w-3/5">
                            <div
                                class="transition-all duration-500 overflow-hidden"
                                :style="needsClamp ? 'height: ' + (expanded ? fullHeight : collapsedHeight) : 'height: auto'"
                            >
                                <h4 x-text="item.position" class="font-bold opacity-70 -tracking-[0.5px] font-grotesk text-[clamp(1.25rem,5.09vw,1.875rem)]/[120%] md:hidden"></h4>
                                <p
                                    class="-tracking-[0.5px] font-grotesk text-[clamp(1.25rem,5.09vw,1.875rem)]/[120%]"
                                    :class="needsClamp && !expanded ? 'line-clamp-8' : ''"
                                    x-text="item.text"
                                ></p>
                            </div>
                            <div class="absolute bottom-0 left-0 w-full h-8 bg-gradient-to-t from-black to-transparent pointer-events-none" x-show="needsClamp && !expanded"></div>
                            <template x-if="needsClamp">
                                <button
                                    class="cursor-pointer -tracking-[0.5px] font-grotesk text-[clamp(1.25rem,5.09vw,1.875rem)]/[120%] z-1 relative"
                                    @click.stop="
                                        $nextTick(() => {
                                            updateHeights();
                                            expanded = !expanded;
                                            $nextTick(() => updateHeights());
                                        });
                                    "
                                    x-text="expanded ? '-' : '+'"
                                ></button>
                            </template>
                        </div>
                    </div>
                </template>

            </div>

        </section>

        <section id="stack" class="stack px-7.5 pb-49 pt-18.5 transition-all duration-500 lg:px-12.5 lg:pb-0 lg:pt-0 lg:mt-[138px] lg:min-h-[-webkit-fill-available]">

            <div class="wrap flex items-center justify-center lg:h-[-webkit-fill-available]">

                <div class="image w-full">

                    <figure><img src="./assets/images/stack-mobile.svg" class="block w-full h-auto"></figure>

                </div>

            </div>

        </section>

        <section id="blog" class="blog min-h-[calc(100vh-196px)] pb-[185px] px-7.5 transition-all duration-500 lg:mt-[138px] lg:px-12.5">

            <div
                class="wrap"
                x-data="{
                        items: [],
                        async init() {
                            const res = await fetch('https://dev.to/api/articles?username=leeoc');
                            this.items = await res.json();
                        },
                        formatDate(dateStr) {
                            const date = new Date(dateStr);
                            return date.toLocaleDateString('en-GB');
                        }
                    }"
            >

                <div class="grid gap-y-12.5 md:grid-cols-2 md:gap-x-7.5 lg:grid-cols-3 lg:gap-x-12.5">
                    
                    <template x-for="(item, idx) in items" :key="idx">
                    <div>

                        <a :href="item.canonical_url">

                            <div class="image relative h-0 overflow-hidden pb-[100%] mb-2.5">

                                <figure>

                                    <img :src="item.cover_image || './assets/images/article-placeholder.svg'" alt="Article placeholder" class="block w-full h-full absolute top-0 left-0 object-cover">

                                </figure>
    
                            </div>
    
                            <div class="content">
    
                                <h2 class="font-grotesk lowercase -tracking-[0.5px] text-[clamp(2rem,8.14vw,2rem)]/[100%] line-clamp-2 mb-0.5 lg:text-[clamp(2rem,3.13vw,2.5rem)]" x-text="item.title"></h2>
    
                                <time :datetime="item.created_at" class="block font-grotesk text-[clamp(1.5rem,6.11vw,1.5rem)] lg:text-[clamp(1.5rem,2.34vw,2rem)]"  x-text="formatDate(item.created_at)"></time>
    
                            </div>

                        </a>

                    </div>

                    </template>
                
                </div>

            </div>
            
        </section>

        <footer class="bg-black fixed bottom-0 left-0 w-full h-24.5 px-7.5 z-[1] transition-all duration-500 lg:h-20.5 lg:px-12.5">

            <div class="wrap h-full">

                <div class="flex items-center justify-between h-full">

                    <a href="mailto:info@leeoconnell.co.uk?subject=Getting in touch about leeoconnell.co.uk" class="block text-[clamp(1.5rem,6.11vw,1.5rem)] lg:text-[clamp(1.5rem,2.34vw,2rem)]">contact</a>

                    <a href="https://github.com/leeoc" class="group"><figure class="transition-all duration-500 group-hover:scale-[1.1]"><img src="./assets/images/icons/github.svg" class="block w-auto h-7" alt="Github"></figure></a>

                </div>

            </div>

        </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

</body>

</html>